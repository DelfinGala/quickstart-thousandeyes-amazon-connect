//Include any predeployment steps here, such as signing up for a Marketplace AMI or making any changes to a partner account. If there are no predeployment steps, leave this file empty.

== Predeployment steps

=== Setting Up ThousandEyes

The following steps assume you have a ThousandEyes account. If you do not, you can sign-up for a https://www.thousandeyes.com/signup/[14-day free trial at here].

=== Deploy and Configure ThousandEyes Endpoint Agents
First you'll want to setup your ThousandEyes monitoring by deploying ThosuandEyes Endpoint Agents. ThousandEyes Endpoint Agents monitor network and app performance across the internet as well as collect device health. With ThousandEyes Endpoint Agents installed on your Amazon Connect users' devices, you'll be able to quickly identify any network or device issues that may be impacting a user's experience of Amazon Connect.

Follow the steps in this https://docs.thousandeyes.com/product-documentation/global-vantage-points/endpoint-agents/quick-guide-on-endpoint-agent#configuring-and-deploying-the-endpoint-agent[ThousandEyes Endpoint Agents deployment guide] to install the ThousandEyes Endpoint agent on any Windows or MacOS based user device.

Please note the *Agent Name* for each deployed agent as you will use this when setting up the client widget below. The agent name is typically the device host name. For example: `hans-mac-us`

=== Configure ThousandEyes to Monitor Amazon Connect
Once you've deployed at least one ThousandEyes Endpoint Agent you'll want to configure ThousandEyes to monitor Amazon Connect from those agents.

=== Create a Scheduled Test
First you'll need to create a *Scheduled Test*.

1. Log in to your ThousandEyes account at https://app.thousandeyes.com
2. Select Endpoint Agent --> https://app.thousandeyes.com/endpoint/test-settings/[Test Settings]
3. Select *Add New Test* and create a new *Web - HTTP Server* test
4. In the URL field enter the URL of your Amazon Connect service. For example `https://acmebusiness.my.connect.aws`.
5. Name the test `Amazon Connect` or something similar. You will use this name when setting up the client widget (see below)

image::../docs/deployment_guide/images/1_AddNewTest.png[NewTest]

6. In the *Agents* field select the ThousandEyes Endpoint Agents you installed in the previous step.

image::../docs/deployment_guide/images/2_Agents.png[Agents]

7. Select *Add New Test* in the lower right.
8. Also note the Account Group name that you created this test in, you will use it below.

=== Enable ThousandEyes Session Monitorintg

Next you'll want to enable session monitoring when the user is using the Amazon Connect web client.

1. Click on *Browser Session Settings* --> *Monitored Domain Sets* --> Add New Monitored Domain Set

image::../docs/deployment_guide/images/3_SessionMonitoring.png[SessionMonitoring]

2. Enter the web domain that your users browse to when using Amazon Connect. For example - if your users access Amazon Connect CCP via your Salesforce instance, you might add something like `*.salesforce.com`.

image::../docs/deployment_guide/images/4_AddMonitoredDomainSet.png[AddMonitoredDomainSet]

3. Click *Add*

ThousandEyes will now start running network monitoring to your Amazon Connect instance from each of the ThousandEyes Endpoint Agents you installed and specified. It will also collect device health metrics that can be used alongside the network monitoring to quickly troubleshoot any issues that impact Amazon Connect services when users are using the Amazon Connect CCP soft phone.

