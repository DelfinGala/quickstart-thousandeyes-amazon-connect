//Include any predeployment steps here, such as signing up for a Marketplace AMI or making any changes to a partner account. If there are no predeployment steps, leave this file empty.

== Predeployment steps

=== Sign in to your ThousandEyes account

Sign in to your ThousandEyes account. If you don't have an account, you can sign up for a https://www.thousandeyes.com/signup/[15-day free trial^].

=== Deploy and configure the ThousandEyes Endpoint Agents application
The ThousandEyes Endpoint Agents application monitors network and app performance across the internet and collects data on device health. With ThousandEyes Endpoint Agents deployed on your Amazon Connect users' devices, you can identify network or device issues that may be impacting a user's experience of Amazon Connect.

. Deploy and configure the ThousandEyes Endpoint Agents application on the desired Windows or macOS-based user devices. For details, refer to https://docs.thousandeyes.com/product-documentation/global-vantage-points/endpoint-agents/quick-guide-on-endpoint-agent#configuring-and-deploying-the-endpoint-agent[Configuring and Deploying the Endpoint Agent^].

. Note the agent name for each deployed agent. You will use this name when setting up the client widget. The agent name is typically the device host name, such as `hans-mac-us`.

//TODO Marcia, the term should be Endpoint Agent, with the plural being Endpoint Agents. They are not talking about generic endpoint agents.

=== Configure ThousandEyes to monitor Amazon Connect
After you've deployed at least one ThousandEyes endpoint agent, configure ThousandEyes to monitor Amazon Connect from each agent.

//TODO Marcia, the two subsections below: Create a scheduled test; Enable ThousandEyes session monitoring are the steps to connect.

=== Create a scheduled test

//TODO Marcia, I have verified the steps below

. Log in to your ThousandEyes account at https://app.thousandeyes.com.
. Select Endpoint Agent â†’ https://app.thousandeyes.com/endpoint/test-settings/[Test Settings^].
//TODO Marcia, we are navigating to Test Settings section of the Endpoint Agents in the ThousandEyes console
. Choose *Add New Test*, and do the following, as shown in <<newtest>>. 
.. Under *Type*, choose *Web* and *HTTP Server*. 
.. Under *Test Name*, enter a name for your scheduled test, such as `AmazonConnect`. You will use this name when you set up the client widget.
.. Under *URL*, enter the URL of your Amazon Connect service, such as `https://acmebusiness.my.connect.aws`.
+
[#newtest]
.The "Add New Test" screen
[link=images/1_AddNewTest.png]
image::../docs/deployment_guide/images/1_AddNewTest.png[NewTest]

. Under *Agents*, select the ThousandEyes endpoint agents that you installed in the **Deploy and configure the ThousandEyes Endpoint Agents application** section, as shown in <<select_agent>>.
+
[#select_agent]
.Selecting your installed agents
[link=images/2_Agents.png]
image::../docs/deployment_guide/images/2_Agents.png[Agents]

. Choose *Add New Test* in the lower right.

=== Enable ThousandEyes session monitoring

Next, you enable session monitoring for when the user is using the Amazon Connect web client.

//TODO Marcia, this is the ThousandEyes console, Endpoint Agents section.

. As shown in <<monitored_domain_sets>>, in the navigation panel at left, choose *Browser Session Settings*. Choose the *Monitored Domain Sets* tab. Then choose *Add New Monitored Domain Set*.
+
[#monitored_domain_sets]
.The "Monitored Domain Sets" screen
[link=images/3_SessionMonitoring.png]
image::../docs/deployment_guide/images/3_SessionMonitoring.png[SessionMonitoring]

. Under *Monitored Domains*, enter the web domain that your users browse to when they use Amazon Connect. For example, if your users access Amazon Connect CCP by using your Salesforce instance, you might enter something like `*.salesforce.com`, as shown in <<add_new_monitored_domain_set>>.
+
[#add_new_monitored_domain_set]
.Adding a new monitored domain set
[link=images/4_AddMonitoredDomainSet.png]
image::../docs/deployment_guide/images/4_AddMonitoredDomainSet.png[AddMonitoredDomainSet]

. Choose *Add*.
+
ThousandEyes now runs network monitoring to your Amazon Connect instance from each of the ThousandEyes endpoint agents you installed and specified. It will also collect device health metrics that can be used alongside the network monitoring to troubleshoot any issues that impact Amazon Connect services when users are using the Amazon Connect CCP softphone.